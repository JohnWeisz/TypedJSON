// [typedjson]  Version: 1.6.0-rc2 - 2020-08-28  
 !function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define("typedjson",[],r):"object"==typeof exports?exports.typedjson=r():e.typedjson=r()}("undefined"!=typeof self?self:this,function(){return n={},o.m=t=[function(e,r,t){"use strict";t.r(r);var n=function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;var n=Array(e),o=0;for(r=0;r<t;r++)for(var i=arguments[r],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n},l='Are you sure, that you have both "experimentalDecorators" and "emitDecoratorMetadata" in your tsconfig.json?';function a(e,r){return"string"!=typeof e||(t=e,o=(n=r)===String||n===ArrayBuffer||n===DataView,i=2<=t.length&&'"'===t[0]&&'"'===t[t.length-1],a=/^\d+$/.test(t.trim()),o&&!i||!i&&!a&&n===Date)?e:JSON.parse(e);var t,n,o,i,a}function h(e,r){return e===r||e.prototype instanceof r}function u(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];"object"==typeof console&&"function"==typeof console.error?console.error.apply(console,n([e],r)):"object"==typeof console&&"function"==typeof console.log&&console.log.apply(console,n(["ERROR: "+e],r))}function c(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];"object"==typeof console&&"function"==typeof console.warn?console.warn.apply(console,n([e],r)):"object"==typeof console&&"function"==typeof console.log&&console.log.apply(console,n(["WARNING: "+e],r))}function g(e){return!(null==e)}function p(e,r){return"number"==typeof e?r===Number:"string"==typeof e?r===String:"boolean"==typeof e?r===Boolean:"object"==typeof e&&e instanceof r}var f="object"==typeof Reflect&&"function"==typeof Reflect.getMetadata;function m(e){return"string"==typeof e.name?e.name:"undefined"}function o(e){return e}var i="__typedJsonJsonObjectMetadataInformation__",w=(s.getJsonObjectName=function(e){var r=s.getFromConstructor(e);return m(void 0===r?e:r.classType)},s.getFromConstructor=function(e){var r=e.prototype;if(null!=r){var t;if(!0===r.hasOwnProperty(i)&&(t=r[i]),!0===(null==t?void 0:t.isExplicitlyMarked))return t;if(s.doesHandleWithoutAnnotation(e)){var n=new s(e);return n.isExplicitlyMarked=!0,n}}},s.ensurePresentInPrototype=function(e){if(e.hasOwnProperty(i))return e[i];var t=new s(e.constructor),r=e[i];return void 0!==r&&(r.dataMembers.forEach(function(e,r){t.dataMembers.set(r,e)}),r.knownTypes.forEach(function(e){t.knownTypes.add(e)}),t.typeResolver=r.typeResolver,t.typeHintEmitter=r.typeHintEmitter),Object.defineProperty(e,i,{enumerable:!1,configurable:!1,writable:!1,value:t}),t},s.getKnownTypeNameFromType=function(e){var r=s.getFromConstructor(e);return m(void 0===r?e:r.classType)},s.doesHandleWithoutAnnotation=function(e){return-1!==[Date,Number,String,Boolean].indexOf(e)||-1!==[Float32Array,Float64Array,Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array].indexOf(e)||e===DataView||e===ArrayBuffer},s);function s(e){this.dataMembers=new Map,this.knownTypes=new Set,this.isExplicitlyMarked=!1,this.isHandledWithoutAnnotation=!1,this.classType=e}function y(e,r,t){var n="@jsonMember on "+m(e.constructor)+"."+String(r);if("function"!=typeof e)if("function"!=typeof e[r])if(null==t||void 0===t.type&&void 0===t.deserializer)u(n+": JsonMemberMetadata has unknown type.");else{var o=w.ensurePresentInPrototype(e);void 0===t.deserializer&&t.type.getTypes().forEach(function(e){return o.knownTypes.add(e)}),Object.keys(t).forEach(function(e){return void 0===t[e]&&delete t[e]}),o.dataMembers.set(t.name,t)}else u(n+": cannot use a method property.");else u(n+": cannot use a static property.")}var d=function(){return(d=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e}).apply(this,arguments)},v=["preserveNull"];function T(t){var e=Object.keys(t).filter(function(e){return-1<v.indexOf(e)}).reduce(function(e,r){return e[r]=t[r],e},{});return 0<Object.keys(e).length?e:void 0}function b(e,r){return null!=r&&null!=r[e]?r[e]:function(e){switch(e){case"preserveNull":return!1}return null}(e)}function E(e,r){return null==r?e:d(d({},e),r)}var A,S=(A=function(e,r){return(A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])})(e,r)},function(e,r){function t(){this.constructor=e}A(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}),z=(M.prototype.getTypes=function(){return[this.ctor]},M);function M(e){this.ctor=e}var C,j=(S(k,C=z),k);function k(e){return C.call(this,e)||this}var H,O=(S(R,H=z),R);function R(e){return H.call(this,e)||this}var P,N=(S(V,P=O),V.prototype.getTypes=function(){return P.prototype.getTypes.call(this).concat(this.elementType.getTypes())},V);function V(e){var r=P.call(this,Array)||this;return r.elementType=e,r}function _(e){return new N(W(e))}var D,x=(S(J,D=O),J.prototype.getTypes=function(){return D.prototype.getTypes.call(this).concat(this.elementType.getTypes())},J);function J(e){var r=D.call(this,Set)||this;return r.elementType=e,r}function F(e){return new x(W(e))}var K,U=(S(q,K=O),q.prototype.getTypes=function(){return K.prototype.getTypes.call(this).concat(this.keyType.getTypes(),this.valueType.getTypes())},q.prototype.getCompleteOptions=function(){var e,r;return{shape:null!==(r=null===(e=this.options)||void 0===e?void 0:e.shape)&&void 0!==r?r:0}},q);function q(e,r,t){var n=K.call(this,Map)||this;return n.keyType=e,n.valueType=r,n.options=t,n}function I(e,r,t){return new U(W(e),W(r),t)}function B(e){return null!=e&&("function"==typeof e||e instanceof z)}function W(e){return e instanceof z?e:new j(e)}function G(e,r){if(null!=e.__type)return r.get(e.__type)}var $=(L.prototype.setNameResolver=function(e){this.nameResolver=e},L.prototype.setTypeResolver=function(e){if("function"!=typeof e)throw new TypeError("'typeResolverCallback' is not a function.");this.typeResolver=e},L.prototype.getTypeResolver=function(){return this.typeResolver},L.prototype.setErrorHandler=function(e){if("function"!=typeof e)throw new TypeError("'errorHandlerCallback' is not a function.");this.errorHandler=e},L.prototype.getErrorHandler=function(){return this.errorHandler},L.prototype.convertSingleValue=function(e,r,t,n,o){if(void 0===n&&(n="object"),this.retrievePreserveNull(o)&&null===e)return null;if(g(e)){var i=this.deserializationStrategy.get(r.ctor);return void 0!==i?i(e,r,t,n,this,o):"object"==typeof e?function(a,e,r,t,s){if("object"==typeof a&&null!==a){var n=e.ctor,o=w.getFromConstructor(n),l=r,i=s.getTypeResolver();void 0!==o&&(l=s.mergeKnownTypes(l,s.createKnownTypesMap(o.knownTypes)),null!=o.typeResolver&&(i=o.typeResolver));var u=i(a,l);if(null!=u&&h(u,n)&&(n=u,void 0!==(o=w.getFromConstructor(u))&&(l=s.mergeKnownTypes(l,s.createKnownTypesMap(o.knownTypes)))),!0===(null==o?void 0:o.isExplicitlyMarked)){var c=o,p={},f=E(s.options,c.options);c.dataMembers.forEach(function(e,r){var t,n=a[r],o=m(c.classType)+"."+r,i=E(f,e.options);if(null!=e.deserializer)t=e.deserializer(n);else{if(null==e.type)throw new TypeError("Cannot deserialize "+o+" there is no constructor nor deserialization function to use.");t=s.convertSingleValue(n,e.type,l,o,i)}g(t)||s.retrievePreserveNull(i)&&null===t?p[e.key]=t:!0===e.isRequired&&s.getErrorHandler()(new TypeError("Missing required member '"+o+"'."))});var y=void 0;if("function"==typeof o.initializerCallback)try{if(null==(y=o.initializerCallback(p,a)))throw new TypeError("Cannot deserialize "+t+": 'initializer' function returned undefined/null, but '"+m(o.classType)+"' was expected.");if(!(y instanceof o.classType))throw new TypeError("Cannot deserialize "+t+":'initializer' returned '"+m(y.constructor)+"', but '"+m(o.classType)+"' was expected, and '"+m(y.constructor)+"' is not a subtype of '"+m(o.classType)+"'")}catch(e){return void s.getErrorHandler()(e)}else y=s.instantiateType(n);Object.assign(y,p);var d=o.onDeserializedMethodName;return null!=d&&("function"==typeof y[d]?y[d]():"function"==typeof y.constructor[d]?y.constructor[d]():s.getErrorHandler()(new TypeError("onDeserialized callback'"+m(o.classType)+"."+d+"' is not a method."))),y}var v={};return Object.keys(a).forEach(function(e){v[e]=s.convertSingleValue(a[e],new j(a[e].constructor),r,e)}),v}s.getErrorHandler()(new TypeError("Cannot deserialize "+t+": 'sourceObject' must be a defined object."))}(e,r,t,n,this):void this.errorHandler(new TypeError("Could not deserialize '"+n+"': don't know how to deserialize this type'."))}},L.prototype.instantiateType=function(e){return new e},L.prototype.mergeKnownTypes=function(){for(var t=this,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=new Map;return e.forEach(function(e){e.forEach(function(e,r){void 0===t.nameResolver?n.set(r,e):n.set(t.nameResolver(e),e)})}),n},L.prototype.createKnownTypesMap=function(e){var n=this,o=new Map;return e.forEach(function(e){if(void 0===n.nameResolver){var r=w.getFromConstructor(e),t=!0===(null==r?void 0:r.isExplicitlyMarked)?r.name:null;o.set(null!=t?t:e.name,e)}else o.set(n.nameResolver(e),e)}),o},L.prototype.retrievePreserveNull=function(e){return b("preserveNull",E(this.options,e))},L.prototype.isExpectedMapShape=function(e,r){return 0===r&&Array.isArray(e)||1===r&&"object"==typeof e},L);function L(){this.typeResolver=G,this.errorHandler=u,this.deserializationStrategy=new Map([[Number,Z],[String,Z],[Boolean,Z],[Date,ne],[ArrayBuffer,oe],[DataView,ie],[Array,ee],[Set,re],[Map,te],[Float32Array,se],[Float64Array,se],[Uint8Array,le],[Uint8ClampedArray,le],[Uint16Array,le],[Uint32Array,le]])}function Q(e,r,t,n){throw new TypeError("Could not deserialize "+n+" as "+e+": expected "+r+", got "+t+".")}function X(e,r,t){return"Could not deserialize "+t+": expected '"+("function"==typeof e?m(e):e)+"', got '"+("function"==typeof r?m(r):r)+"'."}function Y(e){return null==e?"undefined":m(e.constructor)}function Z(e,r,t,n){if(e.constructor!==r.ctor)throw new TypeError(X(m(r.ctor),e.constructor,n));return e}function ee(e,r,t,n,o,i){if(!(r instanceof N))throw new TypeError("Could not deserialize "+n+" as Array: incorrect TypeDescriptor detected, please use proper annotation or function for this type");return Array.isArray(e)?null==r.elementType?(o.getErrorHandler()(new TypeError("Could not deserialize "+n+" as Array: missing constructor reference of Array elements.")),[]):e.map(function(e){try{return o.convertSingleValue(e,r.elementType,t,n+"[]",i)}catch(e){return void o.getErrorHandler()(e)}}):(o.getErrorHandler()(new TypeError(X(Array,e.constructor,n))),[])}function re(e,t,n,o,i,a){if(!(t instanceof x))throw new TypeError("Could not deserialize "+o+" as Set: incorrect TypeDescriptor detected, please use proper annotation or function for this type");if(!Array.isArray(e))return i.getErrorHandler()(new TypeError(X(Array,e.constructor,o))),new Set;if(null==t.elementType)return i.getErrorHandler()(new TypeError("Could not deserialize "+o+" as Set: missing constructor reference of Set elements.")),new Set;var s=new Set;return e.forEach(function(e,r){try{s.add(i.convertSingleValue(e,t.elementType,n,o+"["+r+"]",a))}catch(e){i.getErrorHandler()(e)}}),s}function te(t,n,o,i,a,s){if(!(n instanceof U))throw new TypeError("Could not deserialize "+i+" as Map: incorrect TypeDescriptor detected,please use proper annotation or function for this type");var e,r,l=n.getCompleteOptions().shape;if(e=t,!(0===(r=l)&&Array.isArray(e)||1===r&&"object"==typeof e)){var u=0===l?Array:Object;return a.getErrorHandler()(new TypeError(X(u,t.constructor,i))),new Map}if(null==n.keyType)return a.getErrorHandler()(new TypeError("Could not deserialize "+i+" as Map: missing key constructor.")),new Map;if(null==n.valueType)return a.getErrorHandler()(new TypeError("Could not deserialize "+i+" as Map: missing value constructor.")),new Map;var c=new Map;return 1===l?Object.keys(t).forEach(function(e){try{var r=a.convertSingleValue(e,n.keyType,o,i,s);g(r)&&c.set(r,a.convertSingleValue(t[e],n.valueType,o,i+"["+r+"]",s))}catch(e){a.getErrorHandler()(e)}}):t.forEach(function(e){try{var r=a.convertSingleValue(e.key,n.keyType,o,i,s);g(r)&&c.set(r,a.convertSingleValue(e.value,n.valueType,o,i+"["+r+"]",s))}catch(e){a.getErrorHandler()(e)}}),c}function ne(e,r,t,n){return"string"==typeof e||"number"==typeof e&&0<e?new Date(e):e instanceof Date?e:void Q("Date","an ISO-8601 string",Y(e),n)}function oe(e,r,t,n){return"string"!=typeof e&&Q("ArrayBuffer","a string source",Y(e),n),ae(e)}function ie(e,r,t,n){return"string"!=typeof e&&Q("DataView","a string source",Y(e),n),new DataView(ae(e))}function ae(e){for(var r=new ArrayBuffer(2*e.length),t=new Uint16Array(r),n=0,o=e.length;n<o;n++)t[n]=e.charCodeAt(n);return r}function se(e,r,t,n){var o=r.ctor;return Array.isArray(e)&&e.every(function(e){return!isNaN(e)})?new o(e):Q(o.name,"a numeric source array",Y(e),n)}function le(e,r,t,n){var o=r.ctor;return Array.isArray(e)&&e.every(function(e){return!isNaN(e)})?new o(e.map(function(e){return~~e})):Q(r.ctor.name,"a numeric source array",Y(e),n)}function ue(i,a){return void 0===a&&(a={}),function(e,r){var t,n="@jsonArrayMember on "+m(e.constructor)+"."+String(r);if(B(i)){var o=null==a.dimensions?1:a.dimensions;!isNaN(o)&&o<1?u(n+": 'dimensions' option must be at least 1."):f&&Reflect.getMetadata("design:type",e,r)!==Array?u(n+": property is not an Array. "+l):y(e,r,{type:ce(W(i),o),emitDefaultValue:a.emitDefaultValue,isRequired:a.isRequired,options:T(a),key:r.toString(),name:null!==(t=a.name)&&void 0!==t?t:r.toString(),deserializer:a.deserializer,serializer:a.serializer})}else u(n+": could not resolve constructor of array elements at runtime.")}}function ce(e,r){for(var t=new N(e),n=1;n<r;++n)t=new N(t);return t}var pe=function(){return(pe=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e}).apply(this,arguments)};function fe(e,r,t,n){var o;r.constructor!==t&&(e.__type=null!==(o=null==n?void 0:n.name)&&void 0!==o?o:m(r.constructor))}var ye=(de.prototype.setTypeHintEmitter=function(e){if("function"!=typeof e)throw new TypeError("'typeEmitterCallback' is not a function.");this.typeHintEmitter=e},de.prototype.getTypeHintEmitter=function(){return this.typeHintEmitter},de.prototype.setErrorHandler=function(e){if("function"!=typeof e)throw new TypeError("'errorHandlerCallback' is not a function.");this.errorHandler=e},de.prototype.getErrorHandler=function(){return this.errorHandler},de.prototype.retrievePreserveNull=function(e){return b("preserveNull",E(this.options,e))},de.prototype.convertSingleValue=function(e,r,t,n){if(void 0===t&&(t="object"),this.retrievePreserveNull(n)&&null===e)return null;if(g(e)){if(p(e,r.ctor)){var o=this.serializationStrategy.get(r.ctor);return void 0!==o?o(e,r,t,this,n):"object"==typeof e?function(n,e,o){var r,i,t=o.getTypeHintEmitter();if(void 0===(r=n.constructor!==e.ctor&&n instanceof e.ctor?w.getFromConstructor(n.constructor):w.getFromConstructor(e.ctor)))i=pe({},n);else{var a=r.beforeSerializationMethodName;null!=a&&("function"==typeof n[a]?n[a]():"function"==typeof n.constructor[a]?n.constructor[a]():o.getErrorHandler()(new TypeError("beforeSerialization callback '"+m(r.classType)+"."+a+"' is not a method.")));var s=r;i={};var l=E(o.options,s.options);null!=s.typeHintEmitter&&(t=s.typeHintEmitter),s.dataMembers.forEach(function(e){var r,t=E(l,e.options);if(null!=e.serializer)r=e.serializer(n[e.key]);else{if(null==e.type)throw new TypeError("Could not serialize "+e.name+", there is no constructor nor serialization function to use.");r=o.convertSingleValue(n[e.key],e.type,m(s.classType)+"."+e.key,t)}(o.retrievePreserveNull(t)&&null===r||g(r))&&(i[e.name]=r)})}return t(i,n,e.ctor,r),i}(e,r,this):void this.errorHandler(new TypeError("Could not serialize '"+t+"': don't know how to serialize this type'."))}var i=m(r.ctor),a=m(e.constructor);this.errorHandler(new TypeError("Could not serialize '"+t+"': expected '"+i+"', got '"+a+"'."))}},de);function de(){this.typeHintEmitter=fe,this.errorHandler=u,this.serializationStrategy=new Map([[Date,o],[Number,o],[String,o],[Boolean,o],[ArrayBuffer,we],[DataView,Te],[Array,ve],[Set,he],[Map,ge],[Float32Array,me],[Float64Array,me],[Int8Array,me],[Uint8Array,me],[Uint8ClampedArray,me],[Int16Array,me],[Uint16Array,me],[Int32Array,me],[Uint32Array,me]])}function ve(e,o,i,a,s){if(!(o instanceof N))throw new TypeError("Could not serialize "+i+" as Array: incorrect TypeDescriptor detected, please use proper annotation or function for this type");if(null==o.elementType)throw new TypeError("Could not serialize "+i+" as Array: missing element type definition.");return e.forEach(function(e,r){if(!(a.retrievePreserveNull(s)&&null===e||p(e,o.elementType.ctor))){var t=m(o.elementType.ctor),n=e&&m(e.constructor);throw new TypeError("Could not serialize "+i+"["+r+"]: expected '"+t+"', got '"+n+"'.")}}),e.map(function(e){return a.convertSingleValue(e,o.elementType,i,s)})}function he(e,t,n,o,i){if(!(t instanceof x))throw new TypeError("Could not serialize "+n+" as Set: incorrect TypeDescriptor detected, please use proper annotation or function for this type");if(null==t.elementType)throw new TypeError("Could not serialize "+n+" as Set: missing element type definition.");var a=[];return e.forEach(function(e){var r=o.convertSingleValue(e,t.elementType,n,i);g(e)&&!g(r)||a.push(r)}),a}function ge(e,i,a,s,l){if(!(i instanceof U))throw new TypeError("Could not serialize "+a+" as Map: incorrect TypeDescriptor detected, please use proper annotation or function for this type");if(null==i.valueType)throw new TypeError("Could not serialize "+a+" as Map: missing value type definition.");if(null==i.keyType)throw new TypeError("Could not serialize "+a+" as Map: missing key type definition.");var u=i.getCompleteOptions().shape,c=1===u?{}:[],p=s.retrievePreserveNull(l);return e.forEach(function(e,r){var t={key:s.convertSingleValue(r,i.keyType,a,l),value:s.convertSingleValue(e,i.valueType,a,l)},n=g(t.key),o=null===t.value&&p||g(t.value);n&&o&&(1===u?c[t.key]=t.value:c.push(t))}),c}function me(e){return Array.from(e)}function we(e){return Array.from(new Uint16Array(e)).map(function(e){return String.fromCharCode(e)}).join("")}function Te(e){return we(e.buffer)}var be=function(){return(be=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e}).apply(this,arguments)},Ee=(Ae.parse=function(e,r,t){return new Ae(r,t).parse(e)},Ae.parseAsArray=function(e,r,t,n){return new Ae(r,t).parseAsArray(e,n)},Ae.parseAsSet=function(e,r,t){return new Ae(r,t).parseAsSet(e)},Ae.parseAsMap=function(e,r,t,n){return new Ae(t,n).parseAsMap(e,r)},Ae.toPlainJson=function(e,r,t){return new Ae(r,t).toPlainJson(e)},Ae.toPlainArray=function(e,r,t,n){return new Ae(r,n).toPlainArray(e,t)},Ae.toPlainSet=function(e,r,t){return new Ae(r,t).toPlainSet(e)},Ae.toPlainMap=function(e,r,t,n){return new Ae(t,n).toPlainMap(e,r)},Ae.stringify=function(e,r,t){return new Ae(r,t).stringify(e)},Ae.stringifyAsArray=function(e,r,t,n){return new Ae(r,n).stringifyAsArray(e,t)},Ae.stringifyAsSet=function(e,r,t){return new Ae(r,t).stringifyAsSet(e)},Ae.stringifyAsMap=function(e,r,t,n){return new Ae(t,n).stringifyAsMap(e,r)},Ae.setGlobalConfig=function(e){null==this._globalConfig?this._globalConfig=e:Object.assign(this._globalConfig,e)},Ae.prototype.config=function(e){null!=Ae._globalConfig&&null!=(e=be(be({},Ae._globalConfig),e)).knownTypes&&null!=Ae._globalConfig.knownTypes&&(e.knownTypes=Array.from(new Set(e.knownTypes.concat(Ae._globalConfig.knownTypes))));var r=T(e);this.serializer.options=r,this.deserializer.options=r,null!=e.errorHandler&&(this.errorHandler=e.errorHandler,this.deserializer.setErrorHandler(e.errorHandler),this.serializer.setErrorHandler(e.errorHandler)),null!=e.replacer&&(this.replacer=e.replacer),null!=e.typeResolver&&this.deserializer.setTypeResolver(e.typeResolver),null!=e.typeHintEmitter&&this.serializer.setTypeHintEmitter(e.typeHintEmitter),null!=e.indent&&(this.indent=e.indent),null!=e.nameResolver&&(this.nameResolver=e.nameResolver,this.deserializer.setNameResolver(e.nameResolver)),null!=e.knownTypes&&(e.knownTypes.forEach(function(e,r){null==e&&c("TypedJSON.config: 'knownTypes' contains an undefined/null value (element "+r+").")}),this.globalKnownTypes=e.knownTypes)},Ae.prototype.parse=function(e){var r,t=this,n=a(e,this.rootConstructor),o=w.getFromConstructor(this.rootConstructor),i=new Map;this.globalKnownTypes.filter(function(e){return e}).forEach(function(e){i.set(t.nameResolver(e),e)}),void 0!==o&&o.knownTypes.forEach(function(e){i.set(t.nameResolver(e),e)});try{r=this.deserializer.convertSingleValue(n,W(this.rootConstructor),i)}catch(e){this.errorHandler(e)}return r},Ae.prototype.parseAsArray=function(e,r){void 0===r&&(r=1);var t=a(e,Array);return this.deserializer.convertSingleValue(t,ce(W(this.rootConstructor),r),this._mapKnownTypes(this.globalKnownTypes))},Ae.prototype.parseAsSet=function(e){var r=a(e,Set);return this.deserializer.convertSingleValue(r,F(this.rootConstructor),this._mapKnownTypes(this.globalKnownTypes))},Ae.prototype.parseAsMap=function(e,r){var t=a(e,Map);return this.deserializer.convertSingleValue(t,I(r,this.rootConstructor),this._mapKnownTypes(this.globalKnownTypes))},Ae.prototype.toPlainJson=function(e){try{return this.serializer.convertSingleValue(e,W(this.rootConstructor))}catch(e){this.errorHandler(e)}},Ae.prototype.toPlainArray=function(e,r){void 0===r&&(r=1);try{return this.serializer.convertSingleValue(e,ce(W(this.rootConstructor),r))}catch(e){this.errorHandler(e)}},Ae.prototype.toPlainSet=function(e){try{return this.serializer.convertSingleValue(e,F(this.rootConstructor))}catch(e){this.errorHandler(e)}},Ae.prototype.toPlainMap=function(e,r){try{return this.serializer.convertSingleValue(e,I(r,this.rootConstructor))}catch(e){this.errorHandler(e)}},Ae.prototype.stringify=function(e){var r=this.toPlainJson(e);return void 0===r?"":JSON.stringify(r,this.replacer,this.indent)},Ae.prototype.stringifyAsArray=function(e,r){return JSON.stringify(this.toPlainArray(e,r),this.replacer,this.indent)},Ae.prototype.stringifyAsSet=function(e){return JSON.stringify(this.toPlainSet(e),this.replacer,this.indent)},Ae.prototype.stringifyAsMap=function(e,r){return JSON.stringify(this.toPlainMap(e,r),this.replacer,this.indent)},Ae.prototype._mapKnownTypes=function(e){var r=this,t=new Map;return e.filter(function(e){return e}).forEach(function(e){return t.set(r.nameResolver(e),e)}),t},Ae);function Ae(e,r){this.serializer=new ye,this.deserializer=new $,this.globalKnownTypes=[],this.indent=0;var t=w.getFromConstructor(e);if(void 0===t||!t.isExplicitlyMarked&&!t.isHandledWithoutAnnotation)throw new TypeError("The TypedJSON root data type must have the @jsonObject decorator used.");this.nameResolver=function(e){return m(e)},this.rootConstructor=e,this.errorHandler=function(e){return u(e)},void 0!==r?this.config(r):void 0!==Ae._globalConfig&&this.config({})}function Se(e){var n;function r(e){var r=w.ensurePresentInPrototype(e.prototype);r.isExplicitlyMarked=!0,r.onDeserializedMethodName=n.onDeserialized,r.beforeSerializationMethodName=n.beforeSerialization,null!=n.typeResolver&&(r.typeResolver=n.typeResolver),null!=n.typeHintEmitter&&(r.typeHintEmitter=n.typeHintEmitter),r.initializerCallback=n.initializer,null!=n.name&&(r.name=n.name);var t=T(n);void 0!==t&&(r.options=t),null!=n.knownTypes&&n.knownTypes.filter(function(e){return Boolean(e)}).forEach(function(e){return r.knownTypes.add(e)})}if(n="function"!=typeof e&&null!=e?e:{},"function"!=typeof e)return r;r(e)}function ze(s,e){if(void 0===e||"string"!=typeof e&&"symbol"!=typeof e)return function(e,r){var t,n,o=null!==s&&void 0!==s?s:{},i="@jsonMember on "+m(e.constructor)+"."+String(r);if(o.hasOwnProperty("constructor")){if(!g(o.constructor))return void u(i+": cannot resolve specified property constructor at runtime.");n=W(o.constructor),f&&!h(n.ctor,Reflect.getMetadata("design:type",e,r))&&c(i+": detected property type does not match 'constructor' option.")}else if(f){var a=Reflect.getMetadata("design:type",e,r);if(null==a)return void u(i+": cannot resolve detected property constructor at runtime.");n=W(a)}else if(void 0===o.deserializer)return void u(i+": ReflectDecorators is required if no 'constructor' option is specified.");void 0!==n&&Me(i,n)||y(e,r,{type:n,emitDefaultValue:o.emitDefaultValue,isRequired:o.isRequired,options:T(o),key:r.toString(),name:null!==(t=o.name)&&void 0!==t?t:r.toString(),deserializer:o.deserializer,serializer:o.serializer})};var r=s,t="@jsonMember on "+m(r.constructor)+"."+String(e);if(f){var n=Reflect.getMetadata("design:type",r,e);if(null!=n){var o=W(n);Me(t,o)||y(r,e,{type:o,key:e.toString(),name:e.toString()})}else u(t+": could not resolve detected property constructor at runtime."+l)}else u(t+": ReflectDecorators is required if no 'constructor' option is specified.")}function Me(e,r){return r instanceof N||r.ctor!==Array?r instanceof x||r.ctor!==Set?!(r instanceof U||r.ctor!==Map)&&(u(e+": property is a Map. Use the jsonMapMember decorator to serialize this property."),1):(u(e+": property is a Set. Use the jsonSetMember decorator to serialize this property."),1):(u(e+": property is an Array. Use the jsonArrayMember decorator to serialize this property."),1)}function Ce(o,i){return void 0===i&&(i={}),function(e,r){var t,n="@jsonSetMember on "+m(e.constructor)+"."+String(r);B(o)?f&&Reflect.getMetadata("design:type",e,r)!==Set?u(n+": property is not a Set. "+l):y(e,r,{type:F(o),emitDefaultValue:i.emitDefaultValue,isRequired:i.isRequired,options:T(i),key:r.toString(),name:null!==(t=i.name)&&void 0!==t?t:r.toString(),deserializer:i.deserializer,serializer:i.serializer}):u(n+": could not resolve constructor of set elements at runtime.")}}function je(o,i,a){return void 0===a&&(a={}),function(e,r){var t,n="@jsonMapMember on "+m(e.constructor)+"."+String(r);B(o)?B(i)?f&&Reflect.getMetadata("design:type",e,r)!==Map?u(n+": property is not a Map. "+l):y(e,r,{type:I(o,i,{shape:a.shape}),emitDefaultValue:a.emitDefaultValue,isRequired:a.isRequired,options:T(a),key:r.toString(),name:null!==(t=a.name)&&void 0!==t?t:r.toString(),deserializer:a.deserializer,serializer:a.serializer}):u(n+": could not resolve constructor of map values at runtime."):u(n+": could not resolve constructor of map keys at runtime.")}}function ke(r){if("function"!=typeof r)return function(e){He(e,r)};He(r,{})}function He(e,r){if(!0!==r.overwrite&&void 0!==e.prototype.toJSON)throw new Error(e.name+" already has toJSON defined!");e.prototype.toJSON=function(){return Ee.toPlainJson(this,Object.getPrototypeOf(this).constructor)}}t.d(r,"TypedJSON",function(){return Ee}),t.d(r,"defaultTypeResolver",function(){return G}),t.d(r,"defaultTypeEmitter",function(){return fe}),t.d(r,"JsonObjectMetadata",function(){return w}),t.d(r,"jsonObject",function(){return Se}),t.d(r,"jsonMember",function(){return ze}),t.d(r,"jsonArrayMember",function(){return ue}),t.d(r,"jsonSetMember",function(){return Ce}),t.d(r,"jsonMapMember",function(){return je}),t.d(r,"toJson",function(){return ke}),t.d(r,"ArrayT",function(){return _}),t.d(r,"SetT",function(){return F}),t.d(r,"MapT",function(){return I})}],o.c=n,o.d=function(e,r,t){o.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(r,e){if(1&e&&(r=o(r)),8&e)return r;if(4&e&&"object"==typeof r&&r&&r.__esModule)return r;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:r}),2&e&&"string"!=typeof r)for(var n in r)o.d(t,n,function(e){return r[e]}.bind(null,n));return t},o.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(r,"a",r),r},o.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},o.p="",o(o.s=0);function o(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}var t,n});
//# sourceMappingURL=typedjson.min.js.map 